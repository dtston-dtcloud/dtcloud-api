# 简介
	深智云平台为应用端提供用户登录注册、用户信息编辑、设备绑定、应用升级等操作的接口，通讯方式采用HTTPS是，数据格式采用JSON。
## 接口列表
[1. 删除场景](#api_1)
</br>[2. 获取场景详情](#api_2)
</br>[3. 获取场景列表](#api_3)
</br>[4. 运行场景](#api_4)
</br>[5. 保存场景](#api_5)
</br>[6. 删除设备定时任务](#api_6)
</br>[7. 获取设备定时任务列表](#api_7)
</br>[8. 保存设备定时任务](#api_8)
</br>[9. 设置设备定时任务总开关](#api_9)
</br>
## 接口详情
### <a name='api_1'>1. 删除场景</a>
请求地址

<pre>POST	dt/scene/del</pre>

请求参数

|字段|类型|描述|
|--|--|--|
|uid|int|用户id|
|token|string|登录凭证|
|id|string|数据id|

返回参数

|字段|类型|描述|
|--|--|--|
|errcode|int|返回码，返回0是成功，其余都是错误|
|errmsg|string|错误信息，可以直接显示给用户|

### <a name='api_2'>2. 获取场景详情</a>
请求地址

<pre>POST	dt/scene/get_detail</pre>

请求参数

|字段|类型|描述|
|--|--|--|
|uid|int|用户id|
|token|string|登录凭证|
|id|string|数据id|

返回参数

|字段|类型|描述|
|--|--|--|
|errcode|int|返回码，返回0是成功，其余都是错误|
|errmsg|string|错误信息，可以直接显示给用户|
|data|array|数据|
|data.id|string|数据id|
|data.scene_name|string|场景名称|
|data.ctime|string|创建时间|
|data.scene_data|array|场景数据|
|data.scene_data.name|string|设备名称|
|data.scene_data.mac|string|设备MAC地址|
|data.scene_data.type|string|设备类型|
|data.scene_data.command|string|控制指令|
|data.scene_data.time|string|间隔时间|

### <a name='api_3'>3. 获取场景列表</a>
请求地址

<pre>POST	dt/scene/get_list</pre>

请求参数

|字段|类型|描述|
|--|--|--|
|uid|int|用户id|
|token|string|登录凭证|
|age|string|页码，第一页传1、第二页传2、以此类推|

返回参数

|字段|类型|描述|
|--|--|--|
|errcode|int|返回码，返回0是成功，其余都是错误|
|errmsg|string|错误信息，可以直接显示给用户|
|data|array|数据|
|data.id|string|数据id|
|data.scene_name|string|场景名称|
|data.ctime|string|创建时间|

### <a name='api_4'>4. 运行场景</a>
请求地址

<pre>POST	dt/scene/run</pre>

请求参数

|字段|类型|描述|
|--|--|--|
|uid|int|用户id|
|token|string|登录凭证|
|id|string|数据id|

返回参数

|字段|类型|描述|
|--|--|--|
|errcode|int|返回码，返回0是成功，其余都是错误|
|errmsg|string|错误信息，可以直接显示给用户|

### <a name='api_5'>5. 保存场景</a>
请求地址

<pre>POST	dt/scene/save</pre>

请求参数

|字段|类型|描述|
|--|--|--|
|uid|int|用户id|
|token|string|登录凭证|
|id|string|数据id，0：为添加、非0：为修改|
|scene_name|string|场景名称|
|scene_data|string|场景数据，例子：[{&quot;mac&quot;:&quot;ACCF234F19B0&quot;,&quot;type&quot;:&quot;201&quot;,&quot;command&quot;:&quot;DT_TURN_ON&quot;,&quot;time&quot;:&quot;0&quot;},{&quot;mac&quot;:&quot;ACCF23B6F640&quot;,&quot;type&quot;:&quot;1&quot;,&quot;command&quot;:&quot;DT_TURN_ON&quot;,&quot;time&quot;:&quot;20&quot;},{&quot;mac&quot;:&quot;ACCF234F19A0&quot;,&quot;type&quot;:&quot;501&quot;,&quot;command&quot;:&quot;DT_TURN_ON&quot;,&quot;time&quot;:&quot;100&quot;}]，command说明DT_TURN_ON：开、DT_TURN_OFF：关、DT_PAUSE：停止、DT_UP：凉衣架上升、DT_DOWN：凉衣架下降、DT_PAUSE：凉衣架停止、DT_DISINFECT_ON消毒开、DT_DISINFECT_OFF消毒关、DT_DRY_ON：烘干开、DT_DRY_OFF：烘干关|

返回参数

|字段|类型|描述|
|--|--|--|
|errcode|int|返回码，返回0是成功，其余都是错误|
|errmsg|string|错误信息，可以直接显示给用户|
|id|string|数据id|

### <a name='api_6'>6. 删除设备定时任务</a>
请求地址

<pre>POST	new/timer/del</pre>

请求参数

|字段|类型|描述|
|--|--|--|
|uid|int|用户id|
|token|string|登录凭证|
|id|int|数据id|

返回参数

|字段|类型|描述|
|--|--|--|
|errcode|int|返回码，返回0是成功，其余都是错误|
|errmsg|string|错误信息，可以直接显示给用户|

### <a name='api_7'>7. 获取设备定时任务列表</a>
请求地址

<pre>POST	new/timer/get_list</pre>

请求参数

|字段|类型|描述|
|--|--|--|
|uid|int|用户id|
|token|string|登录凭证|
|device_mac|string|设备MAC地址|

返回参数

|字段|类型|描述|
|--|--|--|
|errcode|int|返回码，返回0是成功，其余都是错误|
|errmsg|string|错误信息，可以直接显示给用户|
|data|array|数据|
|data.id|string|数据id，新增的时候传0；修改的时候传对应的数据id；|
|data.type|string|设备类型|
|data.openTime|string|开启时间，格式（hhmm，如0900）,与关闭时间不能同时为空；|
|data.openSwitch|string|开启开关，0：关闭、1：开启；|
|data.closeTime|string|关闭时间，格式（hhmm，如2330），与开启时间不能同时为空；|
|data.closeSwitch|string|关闭开关，0：关闭、1：开启；|
|data.mainSwitch|string|总开关，0：关闭、1：开启；|
|data.days|string|重复天数，一次性则为-1、重复性的则为0-6，如周日循环为0，周一至周五循环为1,2,3,4,5，每天则为0,1,2,3,4,5,6；|
|data.ctime|string|创建时间|
|data.utime|string|最后修改时间|

### <a name='api_8'>8. 保存设备定时任务</a>
请求地址

<pre>POST	new/timer/save</pre>

请求参数

|字段|类型|描述|
|--|--|--|
|uid|int|用户id|
|token|string|登录凭证|
|id|int|数据id，新增的时候传0；修改的时候传对应的数据id；|
|type|int|设备类型|
|device_mac|string|设备MAC地址|
|openTime|string|开启时间，格式（hhmm，如0900）,与关闭时间不能同时为空；|
|openSwitch|string|开启开关，0：关闭、1：开启；|
|closeTime|string|关闭时间，格式（hhmm，如2330），与开启时间不能同时为空；|
|closeSwitch|string|关闭开关，0：关闭、1：开启；|
|days|string|重复天数，一次性则为-1、重复性的则为0-6，如周日循环为0，周一至周五循环为1,2,3,4,5，每天则为0,1,2,3,4,5,6；|

返回参数

|字段|类型|描述|
|--|--|--|
|errcode|int|返回码，返回0是成功，其余都是错误|
|errmsg|string|错误信息，可以直接显示给用户|
|id|string|数据id|

### <a name='api_9'>9. 设置设备定时任务总开关</a>
请求地址

<pre>POST	new/timer/set_switch</pre>

请求参数

|字段|类型|描述|
|--|--|--|
|uid|int|用户id|
|token|string|登录凭证|
|id|int|数据id|
|switch|int|总开关，0：关闭、1：开启|

返回参数

|字段|类型|描述|
|--|--|--|
|errcode|int|返回码，返回0是成功，其余都是错误|
|errmsg|string|错误信息，可以直接显示给用户|

